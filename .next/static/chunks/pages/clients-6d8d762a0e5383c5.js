(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{4921:function(n,t,e){"use strict";e.d(t,{h:function(){return s}});var r=e(7294),i=e(6637),o=e(2459),c=e(3935);var u=["unstable_skipInitialRender"],a=function(n){var t=n.children,e=n.type,u=void 0===e?"reach-portal":e,a=n.containerRef,s=(0,r.useRef)(null),l=(0,r.useRef)(null),f=(0,o.N)();return(0,i.L)((function(){if(s.current){var n=s.current.ownerDocument,t=(null==a?void 0:a.current)||n.body;return l.current=null==n?void 0:n.createElement(u),t.appendChild(l.current),f(),function(){l.current&&t&&t.removeChild(l.current)}}}),[u,f,a]),l.current?(0,c.createPortal)(t,l.current):(0,r.createElement)("span",{ref:s})},s=function(n){var t=n.unstable_skipInitialRender,e=function(n,t){if(null==n)return{};var e,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(i[e]=n[e]);return i}(n,u),i=(0,r.useState)(!1),o=i[0],c=i[1];return(0,r.useEffect)((function(){t&&c(!0)}),[t]),t&&!o?null:(0,r.createElement)(a,e)}},2769:function(n,t,e){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}e.d(t,{N:function(){return r}})},4683:function(n,t,e){"use strict";function r(n,t){return function(e){if(n&&n(e),!e.defaultPrevented)return t(e)}}e.d(t,{M:function(){return r}})},1331:function(n,t,e){"use strict";e.d(t,{e:function(){return a}});var r=e(7294),i=e(5777);function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function c(n,t){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"===typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(n,t):void 0}}(n))||t&&n&&"number"===typeof n.length){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=n[Symbol.iterator]()).next.bind(e)}function u(n,t){if(null!=n)if((0,i.mf)(n))n(t);else try{n.current=t}catch(e){throw new Error('Cannot assign value "'+t+'" to ref "'+n+'"')}}function a(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(0,r.useCallback)((function(n){for(var e,r=c(t);!(e=r()).done;){u(e.value,n)}}),t)}},884:function(n,t,e){"use strict";e.d(t,{cO:function(){return i},kG:function(){return r}});e(7294);function r(n){}function i(n,t,e){}},9695:function(n,t,e){"use strict";function r(){}e.d(t,{Z:function(){return r}})},5152:function(n,t,e){"use strict";e.d(t,{r:function(){return i}});var r=e(2769);function i(n){return(0,r.N)()?n?n.ownerDocument:document:null}},5777:function(n,t,e){"use strict";function r(n){return"boolean"===typeof n}function i(n){return!(!n||"[object Function]"!={}.toString.call(n))}function o(n){return"string"===typeof n}e.d(t,{HD:function(){return o},jn:function(){return r},mf:function(){return i}})},2459:function(n,t,e){"use strict";e.d(t,{N:function(){return i}});var r=e(7294);function i(){var n=(0,r.useState)(Object.create(null))[1];return(0,r.useCallback)((function(){n(Object.create(null))}),[])}},6637:function(n,t,e){"use strict";e.d(t,{L:function(){return i}});var r=e(7294),i=(0,e(2769).N)()?r.useLayoutEffect:r.useEffect},1591:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients",function(){return e(353)}])},7526:function(n,t,e){"use strict";var r=e(5893),i=e(9392),o=e.n(i);t.Z=function(){return(0,r.jsxs)("div",{className:o()["spinner-container"],"data-testid":"spinner",children:[(0,r.jsx)("span",{className:o().loader}),";"]})}},1191:function(n,t,e){"use strict";e.d(t,{F:function(){return i}});var r=e(5893),i=function(n){var t=n.className,e=n.size,i=n.color;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"16",height:e||"16",fill:i||"currentColor",className:t||"bi-plus-circle",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,r.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})]})}},3660:function(n,t,e){"use strict";e.d(t,{a:function(){return i}});var r=e(5893),i=function(n){var t=n.className,e=n.size,i=n.color;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"16",height:e||"16",fill:i||"currentColor",className:t||"bi-x-circle",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,r.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})}},876:function(n,t,e){"use strict";e.d(t,{p:function(){return f}});var r=e(4051),i=e.n(r),o=e(7140),c=e(660),u=e(3300),a=e.n(u);function s(n,t,e,r,i,o,c){try{var u=n[o](c),a=u.value}catch(s){return void e(s)}u.done?t(a):Promise.resolve(a).then(r,i)}var l=function(){var n,t=(n=i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a()("".concat(c.T,"/clients")).then((function(n){return n.json()}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function c(n){s(o,r,i,c,u,"next",n)}function u(n){s(o,r,i,c,u,"throw",n)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=function(){return(0,o.aM)(["clients"],l)}},353:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return k}});var r=e(5893),i=e(1191),o=e(7294),c=e(4716),u=e(4051),a=e.n(u),s=e(7140),l=e(660),f=e(3300),d=e.n(f);function p(n,t,e,r,i,o,c){try{var u=n[o](c),a=u.value}catch(s){return void e(s)}u.done?t(a):Promise.resolve(a).then(r,i)}var v=function(){var n,t=(n=a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d()("".concat(l.T,"/clients"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t})}).then((function(n){return n.json()}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function c(n){p(o,r,i,c,u,"next",n)}function u(n){p(o,r,i,c,u,"throw",n)}c(void 0)}))});return function(n){return t.apply(this,arguments)}}(),h=e(443),m=e.n(h),x=function(n){var t=n.showDialog,e=n.close,i=(0,o.useState)(""),u=i[0],a=i[1],l=function(){var n=(0,s.NL)();return(0,s.Db)(v,{onSuccess:function(){n.invalidateQueries(["clients"])}})}();return(0,r.jsxs)(c.ZP,{className:m()["client-form-modal"],"aria-label":"create-client-form",isOpen:t,onDismiss:e,children:[(0,r.jsx)("h2",{children:"Create New Client"}),(0,r.jsxs)("form",{className:m()["create-client-form"],onSubmit:function(n){return function(n){n.preventDefault()}(n)},children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{placeholder:"Client Name",name:"name",id:"name",type:"text",value:u,onChange:function(n){return a(n.target.value)}})}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:function(){l.mutate(u)},children:"Create Client"})]}),(0,r.jsx)("button",{className:m()["close-btn"],onClick:e,children:"X"})]})};function y(n,t,e,r,i,o,c){try{var u=n[o](c),a=u.value}catch(s){return void e(s)}u.done?t(a):Promise.resolve(a).then(r,i)}var _=function(){var n,t=(n=a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d()("".concat(l.T,"/clients/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function c(n){y(o,r,i,c,u,"next",n)}function u(n){y(o,r,i,c,u,"throw",n)}c(void 0)}))});return function(n){return t.apply(this,arguments)}}(),b=e(876),w=e(3660),j=e(7526),C=e(61),g=e.n(C),N=function(){var n=(0,b.p)(),t=n.data,e=n.isLoading,i=function(){var n=(0,s.NL)();return(0,s.Db)(_,{onSuccess:function(){n.invalidateQueries(["clients"]),n.invalidateQueries(["projects"])}})}();return e?(0,r.jsx)(j.Z,{}):(0,r.jsx)("div",{className:g()["clients-list"],children:t?t.map((function(n){return(0,r.jsxs)("div",{className:g()["client-pill"],children:[(0,r.jsx)("span",{children:n.name}),(0,r.jsx)("span",{onClick:function(){return i.mutate(n._id)},children:(0,r.jsx)(w.a,{size:"1rem"})})]},n._id)})):null})},S=e(5713),E=e.n(S),k=function(){var n=(0,o.useState)(!1),t=n[0],e=n[1];return(0,r.jsxs)("div",{className:"Clients",children:[(0,r.jsxs)("header",{className:E().header,children:[(0,r.jsx)("h2",{children:"Clients"}),(0,r.jsxs)("button",{className:"btn btn-primary",onClick:function(){return e(!0)},children:[(0,r.jsx)("i",{children:(0,r.jsx)(i.F,{size:"1rem"})}),"Add Client"]}),(0,r.jsx)(x,{showDialog:t,close:function(){return e(!1)}})]}),(0,r.jsx)(N,{})]})}},61:function(n){n.exports={"clients-list":"ClientsList_clients-list__vus1p","client-pill":"ClientsList_client-pill__95i8K"}},443:function(n){n.exports={"create-client-form":"CreateClientModal_create-client-form__cP256","client-form-modal":"CreateClientModal_client-form-modal__g34NW","close-btn":"CreateClientModal_close-btn__Ssa6o"}},9392:function(n){n.exports={"spinner-container":"Spinner_spinner-container__p59vR",loader:"Spinner_loader__J3z2u",rotation:"Spinner_rotation__n0EcN",rotationBack:"Spinner_rotationBack__IRBEt"}},5713:function(n){n.exports={header:"Clients_header__ncJQx"}},2703:function(n,t,e){"use strict";var r=e(414);function i(){}function o(){}o.resetWarningCache=i,n.exports=function(){function n(n,t,e,i,o,c){if(c!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return n}n.isRequired=n;var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return e.PropTypes=e,e}},5697:function(n,t,e){n.exports=e(2703)()},414:function(n){"use strict";n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(n){n.O(0,[716,774,888,179],(function(){return t=1591,n(n.s=t);var t}));var t=n.O();_N_E=t}]);