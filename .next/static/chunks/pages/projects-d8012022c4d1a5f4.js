(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{6192:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(6069)}])},7526:function(e,n,t){"use strict";var r=t(5893),o=t(9392),c=t.n(o);n.Z=function(){return(0,r.jsxs)("div",{className:c()["spinner-container"],"data-testid":"spinner",children:[(0,r.jsx)("span",{className:c().loader}),";"]})}},5557:function(e,n,t){"use strict";t.d(n,{o:function(){return o}});var r=t(5893),o=function(e){var n=e.className,t=e.size,o=e.color;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"16",height:t||"16",fill:o||"currentColor",className:n||"bi-dot",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})})}},1191:function(e,n,t){"use strict";t.d(n,{F:function(){return o}});var r=t(5893),o=function(e){var n=e.className,t=e.size,o=e.color;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"16",height:t||"16",fill:o||"currentColor",className:n||"bi-plus-circle",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,r.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})]})}},876:function(e,n,t){"use strict";t.d(n,{p:function(){return d}});var r=t(4051),o=t.n(r),c=t(7140),a=t(660),s=t(3300),i=t.n(s);function l(e,n,t,r,o,c,a){try{var s=e[c](a),i=s.value}catch(l){return void t(l)}s.done?n(i):Promise.resolve(i).then(r,o)}var u=function(){var e,n=(e=o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(a.T,"/clients")).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){l(c,r,o,a,s,"next",e)}function s(e){l(c,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),d=function(){return(0,c.aM)(["clients"],u)}},6891:function(e,n,t){"use strict";t.d(n,{S:function(){return d}});var r=t(4051),o=t.n(r),c=t(7140),a=t(660),s=t(3300),i=t.n(s);function l(e,n,t,r,o,c,a){try{var s=e[c](a),i=s.value}catch(l){return void t(l)}s.done?n(i):Promise.resolve(i).then(r,o)}var u=function(){var e,n=(e=o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(a.T,"/projects/")).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){l(c,r,o,a,s,"next",e)}function s(e){l(c,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),d=function(){return(0,c.aM)(["projects"],u)}},6069:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return V}});var r=t(5893),o=t(7294),c=t(4716),a=t(1191),s=t(4051),i=t.n(s),l=t(7140),u=t(660),d=t(3300),h=t.n(d);function p(e,n,t,r,o,c,a){try{var s=e[c](a),i=s.value}catch(l){return void t(l)}s.done?n(i):Promise.resolve(i).then(r,o)}var j=function(){var e,n=(e=i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()("".concat(u.T,"/projects"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){p(c,r,o,a,s,"next",e)}function s(e){p(c,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),f=t(7584),v=t(876),m=t(2426),x=t.n(m),_=function(e){var n=e.client,t=e.setClient,o=(0,v.p)().data;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.Ri,{className:x()["client-dropdown"],"aria-labelledby":"client-dropdown",value:n,onChange:t,"data-testid":"client-dropdown",children:[(0,r.jsx)(f.wt,{value:"No Client",children:"No Client"}),null===o||void 0===o?void 0:o.map((function(e){return(0,r.jsx)(f.wt,{value:e._id,children:e.name},e._id)}))]})})},b=t(1757),w=t.n(b),N=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],c=(0,o.useState)("No Client"),a=c[0],s=c[1],i=(0,o.useState)("white")[0],u=function(){var e=(0,l.NL)();return(0,l.Db)(j,{onSuccess:function(){e.invalidateQueries(["projects"])}})}();return(0,r.jsxs)("form",{className:w().ProjectsForm,onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{placeholder:"Project Name",name:"name",id:"name",type:"text",value:n,onChange:function(e){return t(e.target.value)}}),(0,r.jsx)("span",{className:w()["project-color"]})]}),(0,r.jsx)(_,{client:a,setClient:s}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:function(){var e={name:n};"No Client"!==a&&0!==a.length&&(e.client=a),i&&(e.color=i),u.mutate(e)},children:"Create Project"})]})};function P(e,n,t,r,o,c,a){try{var s=e[c](a),i=s.value}catch(l){return void t(l)}s.done?n(i):Promise.resolve(i).then(r,o)}var y=function(){var e,n=(e=i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()("".concat(u.T,"/projects/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){P(c,r,o,a,s,"next",e)}function s(e){P(c,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),C=t(6891),g=t(5557),T=function(e){var n=e.className,t=e.size,o=e.color;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"16",height:t||"16",fill:o||"currentColor",className:n||"bi-trash",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})},S=t(7526),z=t(7007),k=t.n(z),E=function(){var e=(0,C.S)(),n=e.data,t=e.isLoading,o=e.isSuccess,c=e.isError,a=function(){var e=(0,l.NL)();return(0,l.Db)(y,{onSuccess:function(){e.invalidateQueries(["projects"]),e.invalidateQueries(["tasks"])}})}();return c?(0,r.jsx)("div",{children:"No projects available"}):t?(0,r.jsx)(S.Z,{}):(0,r.jsxs)("table",{className:k()["projects-table"],"data-testid":"projects-table",children:[(0,r.jsxs)("colgroup",{children:[(0,r.jsx)("col",{width:"24%"}),(0,r.jsx)("col",{width:"24%"}),(0,r.jsx)("col",{width:"12%"}),(0,r.jsx)("col",{width:"10%"}),(0,r.jsx)("col",{width:"10%"})]}),(0,r.jsx)("thead",{className:k()["table-header"],children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Project"}),(0,r.jsx)("th",{children:"Client"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Team"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{className:k()["table-body"],children:o&&n?n.map((function(e){return e.projects.map((function(n){return(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:k()["project-name"],style:{color:n.color},children:[(0,r.jsx)(g.o,{size:"24",className:k().dot}),(0,r.jsx)("div",{children:n.name})]}),(0,r.jsx)("td",{className:k()["client-name"],children:e._id}),(0,r.jsx)("td",{className:k()["empty-cell"],children:"-"}),(0,r.jsx)("td",{className:k()["empty-cell"],children:"-"}),(0,r.jsx)("td",{className:k().close,children:(0,r.jsx)("span",{onClick:function(){return a.mutate(n._id)},children:(0,r.jsx)(T,{className:k()["trash-icon"]})})})]},n._id)}))})):null})]})},F=t(7666),L=t.n(F),V=function(){var e=(0,o.useState)(!1),n=e[0],t=e[1],s=function(){return t(!1)};return(0,r.jsxs)("section",{"aria-labelledby":"projectsLabel",className:"Projects",children:[(0,r.jsxs)("header",{className:L().header,children:[(0,r.jsx)("h2",{id:"projectsLabel",children:"Projects"}),(0,r.jsxs)("button",{className:"btn btn-primary",onClick:function(){return t(!0)},children:[(0,r.jsx)("i",{children:(0,r.jsx)(a.F,{size:"1rem"})}),"Add Project"]}),(0,r.jsxs)(c.Vq,{className:L()["project-form-modal"],"aria-label":"project-client-form",isOpen:n,onDismiss:s,children:[(0,r.jsx)("h2",{children:"Create New Project"}),(0,r.jsx)(N,{}),(0,r.jsx)("button",{className:L()["close-btn"],onClick:s,children:"X"})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(E,{})})]})}},2426:function(e){e.exports={"client-dropdown":"ClientsDropdown_client-dropdown__i9rOR"}},1757:function(e){e.exports={ProjectsForm:"CreateProjectForm_ProjectsForm__t1aLa","project-color":"CreateProjectForm_project-color__P3U4H"}},7007:function(e){e.exports={"projects-table":"ProjectsTable_projects-table__hnKi1","table-header":"ProjectsTable_table-header__SNO6_","empty-cell":"ProjectsTable_empty-cell__CzTva","table-body":"ProjectsTable_table-body__71TmH","client-name":"ProjectsTable_client-name__WSdBJ","project-name":"ProjectsTable_project-name__TiUCP",dot:"ProjectsTable_dot__rNgfJ",close:"ProjectsTable_close__zJ19F","trash-icon":"ProjectsTable_trash-icon__Vi8UD"}},9392:function(e){e.exports={"spinner-container":"Spinner_spinner-container__p59vR",loader:"Spinner_loader__J3z2u",rotation:"Spinner_rotation__n0EcN",rotationBack:"Spinner_rotationBack__IRBEt"}},7666:function(e){e.exports={header:"Projects_header__6JiPd","project-form-modal":"Projects_project-form-modal__g0AF9","close-btn":"Projects_close-btn__LmZoa"}}},function(e){e.O(0,[767,716,584,774,888,179],(function(){return n=6192,e(e.s=n);var n}));var n=e.O();_N_E=n}]);