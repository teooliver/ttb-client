"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{7584:function(e,t,n){n.d(t,{Ri:function(){return ge},wt:function(){return he}});var a=n(7294),o=n(765),i=n(8646),r=n(8274),u=n(5296),c=n(6637);function l(e,t){var n=(0,a.useRef)(t);return e((function(){n.current=t})),(0,a.useCallback)((function(){n.current&&n.current.apply(n,arguments)}),[])}var s,d=n(5558),v=n(5777),g=n(4411),f=n(884),p=n(1331),y=n(2837),b=n(4683);!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(s||(s={}));var E={type:"xstate.init"};function O(e){return void 0===e?[]:[].concat(e)}function D(e){return{type:"xstate.assign",assignment:e}}function h(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function w(e){return function(t){return e===t}}function M(e){return"string"==typeof e?{type:e}:e}function I(e,t){return{value:e,context:t,actions:[],changed:!1,matches:w(e)}}var N=function(e,t){return e.actions.forEach((function(n){var a=n.exec;return a&&a(e.context,t)}))};function x(e){var t=(0,a.useRef)();return t.current||(t.current={v:e()}),t.current.v}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function T(e,t,n){var o=(0,a.useRef)(e),i=x((function(){return function(e){var t=e.initialState,n=s.NotStarted,a=new Set,o={_machine:e,send:function(o){n===s.Running&&(t=e.transition(t,o),N(t,M(o)),a.forEach((function(e){return e(t)})))},subscribe:function(e){return a.add(e),e(t),{unsubscribe:function(){return a.delete(e)}}},start:function(){return n=s.Running,N(t,E),o},stop:function(){return n=s.Stopped,a.clear(),o},get state(){return t},get status(){return n}};return o}(o.current).start()})),r=(0,a.useRef)(null),u=(0,a.useState)((function(){return function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t}(i)})),c=u[0],l=u[1],d=(0,a.useCallback)((function(e){var n=(0,v.HD)(e)?{type:e}:e,a=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],a=t[1];return e[n]=a.current,e}),{})}(t);i.send(m({},n,{lastEventType:r.current,refs:a})),r.current=n.type}),[n]);return(0,a.useEffect)((function(){return i.subscribe((function(e){e.changed&&l(e)})),function(){i.stop()}}),[i]),(0,a.useEffect)((function(){0}),[n,c]),[(0,a.useMemo)((function(){return m({},c,{matches:function(e){return e===c.value}})}),[c.changed,c.context,c.value]),d,i]}function _(e,t){return x((function(){return function(e,t){void 0===t&&(t={});var n={config:e,_options:t,initialState:{value:e.initial,actions:O(e.states[e.initial].entry).map((function(e){return h(e,t.actions)})),context:e.context,matches:w(e.initial)},transition:function(t,a){var o,i,r="string"==typeof t?{value:t,context:e.context}:t,u=r.value,c=r.context,l=M(a),s=e.states[u];if(s.on){var d=O(s.on[l.type]),v=function(t){if(void 0===t)return{value:I(u,c)};var a="string"==typeof t?{target:t}:t,o=a.target,i=void 0===o?u:o,r=a.actions,d=void 0===r?[]:r,v=a.cond,g=c;if((void 0===v?function(){return!0}:v)(c,l)){var f=e.states[i],p=!1,y=[].concat(s.exit,d,f.entry).filter((function(e){return e})).map((function(e){return h(e,n._options.actions)})).filter((function(e){if("xstate.assign"===e.type){p=!0;var t=Object.assign({},g);return"function"==typeof e.assignment?t=e.assignment(g,l):Object.keys(e.assignment).forEach((function(n){t[n]="function"==typeof e.assignment[n]?e.assignment[n](g,l):e.assignment[n]})),g=t,!1}return!0}));return{value:{value:i,context:g,actions:y,changed:i!==u||y.length>0||p,matches:w(i)}}}};try{for(var g=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(d),f=g.next();!f.done;f=g.next()){var p=v(f.value);if("object"==typeof p)return p.value}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}return I(u,c)}};return n}(e,t)}))}var S,R,C,U=n(5152);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(this,arguments)}function P(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}!function(e){e.Idle="IDLE",e.Open="OPEN",e.Navigating="NAVIGATING",e.Dragging="DRAGGING",e.Interacting="INTERACTING"}(R||(R={})),function(e){e.ButtonMouseDown="BUTTON_MOUSE_DOWN",e.ButtonMouseUp="BUTTON_MOUSE_UP",e.Blur="BLUR",e.ClearNavSelection="CLEAR_NAV_SELECTION",e.ClearTypeahead="CLEAR_TYPEAHEAD",e.GetDerivedData="GET_DERIVED_DATA",e.KeyDownEscape="KEY_DOWN_ESCAPE",e.KeyDownEnter="KEY_DOWN_ENTER",e.KeyDownSpace="KEY_DOWN_SPACE",e.KeyDownNavigate="KEY_DOWN_NAVIGATE",e.KeyDownSearch="KEY_DOWN_SEARCH",e.KeyDownTab="KEY_DOWN_TAB",e.KeyDownShiftTab="KEY_DOWN_SHIFT_TAB",e.OptionTouchStart="OPTION_TOUCH_START",e.OptionMouseMove="OPTION_MOUSE_MOVE",e.OptionMouseEnter="OPTION_MOUSE_ENTER",e.OptionMouseDown="OPTION_MOUSE_DOWN",e.OptionMouseUp="OPTION_MOUSE_UP",e.OptionClick="OPTION_CLICK",e.ListMouseUp="LIST_MOUSE_UP",e.OptionPress="OPTION_PRESS",e.OutsideMouseDown="OUTSIDE_MOUSE_DOWN",e.OutsideMouseUp="OUTSIDE_MOUSE_UP",e.ValueChange="VALUE_CHANGE",e.PopoverPointerDown="POPOVER_POINTER_DOWN",e.PopoverPointerUp="POPOVER_POINTER_UP",e.UpdateAfterTypeahead="UPDATE_AFTER_TYPEAHEAD"}(C||(C={}));var A=D({navigationValue:null}),k=D({typeaheadQuery:null}),L=D({value:function(e,t){return t.value}}),B=D({navigationValue:function(e,t){return t.value}}),V=D({navigationValue:function(e){var t,n,a,o=(t=e.value,n=e.options,t?n.find((function(e){return e.value===t})):void 0);return o&&!o.disabled?e.value:(null==(a=e.options.find((function(e){return!e.disabled})))?void 0:a.value)||null}});function q(e,t){if(t.type===C.Blur){var n=t.refs,a=n.list,o=n.popover,i=t.relatedTarget,r=(0,U.r)(o);return!((null==r?void 0:r.activeElement)===a||!o||o.contains(i||(null==r?void 0:r.activeElement)))}return!1}function G(e,t){if(t.type===C.OutsideMouseDown||t.type===C.OutsideMouseUp){var n=t.refs,a=n.button,o=n.popover,i=t.relatedTarget;return!(i===a||!a||a.contains(i)||!o||o.contains(i))}return!1}function W(e,t){return!!e.options.find((function(t){return t.value===e.navigationValue}))}function j(e,t){var n=t.refs,a=n.popover,o=n.list,i=t.relatedTarget;return!(a&&i&&a.contains(i)&&i!==o)&&W(e)}function Y(e,t){requestAnimationFrame((function(){t.refs.list&&t.refs.list.focus()}))}function H(e,t){t.refs.button&&t.refs.button.focus()}function F(e,t){return!t.disabled}function Q(e,t){return t.type!==C.OptionTouchStart||!t||!t.disabled}function J(e,t){return(!("disabled"in t)||!t.disabled)&&("value"in t?null!=t.value:null!=e.navigationValue)}function z(e,t){t.callback&&t.callback(t.value)}function X(e,t){if(t.type===C.KeyDownEnter){var n=t.refs.hiddenInput;if(n&&n.form){var a=n.form.querySelector("button:not([type]),[type='submit']");a&&a.click()}}}var Z=D({typeaheadQuery:function(e,t){return(e.typeaheadQuery||"")+t.query}}),$=D({value:function(e,t){if(t.type===C.UpdateAfterTypeahead&&t.query){var n=ne(e.options,t.query);if(n&&!n.disabled)return t.callback&&t.callback(n.value),n.value}return e.value}}),ee=D({navigationValue:function(e,t){if(t.type===C.UpdateAfterTypeahead&&t.query){var n=ne(e.options,t.query);if(n&&!n.disabled)return n.value}return e.navigationValue}}),te=((S={})[C.GetDerivedData]={actions:D((function(e,t){return K({},e,t.data)}))},S[C.ValueChange]={actions:[L,z]},S);function ne(e,t){return void 0===t&&(t=""),t&&e.find((function(e){return!e.disabled&&e.label&&e.label.toLowerCase().startsWith(t.toLowerCase())}))||null}var ae=["as","aria-labelledby","aria-label","children","defaultValue","disabled","form","name","onChange","required","value","__componentName"],oe=["arrow","button","children","portal"],ie=["aria-label","arrow","as","children","onKeyDown","onMouseDown","onMouseUp"],re=["as","children"],ue=["as","position","onBlur","onKeyDown","onMouseUp","portal","unstable_observableRefs"],ce=["as"],le=["as","children","disabled","index","label","onClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseUp","onTouchStart","value"],se=(0,r.nm)("ListboxDescendantContext"),de=(0,d.o)("ListboxContext",{}),ve=(0,a.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"div":n,u=e["aria-labelledby"],l=e["aria-label"],s=e.children,d=e.defaultValue,y=e.disabled,b=void 0!==y&&y,E=e.form,O=e.name,D=e.onChange,h=e.required,w=e.value,M=e.__componentName,I=void 0===M?"ListboxInput":M,N=P(e,ae),x=(0,a.useRef)(null!=w),m=(0,r.f5)(),S=m[0],U=m[1],ne=(0,a.useRef)(null),oe=(0,a.useRef)(null),ie=(0,a.useRef)(null),re=(0,a.useRef)(null),ue=(0,a.useRef)(null),ce=(0,a.useRef)(null),le=(0,a.useRef)(null),ve=_(function(e){var t,n,a,o,i,r,u=e.value;return{id:"listbox",initial:R.Idle,context:{value:u,options:[],navigationValue:null,typeaheadQuery:null},states:(r={},r[R.Idle]={on:K({},te,(t={},t[C.ButtonMouseDown]={target:R.Open,actions:[V],cond:F},t[C.KeyDownSpace]={target:R.Navigating,actions:[V,Y],cond:F},t[C.KeyDownSearch]={target:R.Idle,actions:Z,cond:F},t[C.UpdateAfterTypeahead]={target:R.Idle,actions:[$],cond:F},t[C.ClearTypeahead]={target:R.Idle,actions:k},t[C.KeyDownNavigate]={target:R.Navigating,actions:[V,k,Y],cond:F},t[C.KeyDownEnter]={actions:[X],cond:F},t))},r[R.Interacting]={entry:[A],on:K({},te,(n={},n[C.ClearNavSelection]={actions:[A,Y]},n[C.KeyDownEnter]={target:R.Idle,actions:[L,k,H,z],cond:J},n[C.KeyDownSpace]={target:R.Idle,actions:[L,k,H,z],cond:J},n[C.ButtonMouseDown]={target:R.Idle,actions:[H]},n[C.KeyDownEscape]={target:R.Idle,actions:[H]},n[C.OptionMouseDown]={target:R.Dragging},n[C.OutsideMouseDown]=[{target:R.Idle,cond:G,actions:k},{target:R.Dragging,actions:k,cond:W}],n[C.OutsideMouseUp]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W},{target:R.Interacting,actions:k}],n[C.KeyDownEnter]=R.Interacting,n[C.Blur]=[{target:R.Idle,cond:q,actions:k},{target:R.Navigating,cond:j},{target:R.Interacting,actions:k}],n[C.OptionTouchStart]={target:R.Navigating,actions:[B,k],cond:Q},n[C.OptionClick]={target:R.Idle,actions:[L,k,H,z],cond:J},n[C.OptionPress]={target:R.Idle,actions:[L,k,H,z],cond:J},n[C.OptionMouseEnter]={target:R.Navigating,actions:[B,k],cond:Q},n[C.KeyDownNavigate]={target:R.Navigating,actions:[B,k,Y]},n))},r[R.Open]={on:K({},te,(a={},a[C.ClearNavSelection]={actions:[A]},a[C.KeyDownEnter]={target:R.Idle,actions:[L,k,H,z],cond:J},a[C.KeyDownSpace]={target:R.Idle,actions:[L,k,H,z],cond:J},a[C.ButtonMouseDown]={target:R.Idle,actions:[H]},a[C.KeyDownEscape]={target:R.Idle,actions:[H]},a[C.OptionMouseDown]={target:R.Dragging},a[C.OutsideMouseDown]=[{target:R.Idle,cond:G,actions:k},{target:R.Dragging,cond:W},{target:R.Interacting,actions:k}],a[C.OutsideMouseUp]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W},{target:R.Interacting,actions:k}],a[C.Blur]=[{target:R.Idle,cond:q,actions:k},{target:R.Navigating,cond:j},{target:R.Interacting,actions:k}],a[C.ButtonMouseUp]={target:R.Navigating,actions:[V,Y]},a[C.ListMouseUp]={target:R.Navigating,actions:[V,Y]},a[C.OptionTouchStart]={target:R.Navigating,actions:[B,k],cond:Q},a[C.OptionClick]={target:R.Idle,actions:[L,k,H,z],cond:J},a[C.OptionPress]={target:R.Idle,actions:[L,k,H,z],cond:J},a[C.KeyDownNavigate]={target:R.Navigating,actions:[B,k,Y]},a[C.KeyDownSearch]={target:R.Navigating,actions:Z},a[C.UpdateAfterTypeahead]={actions:[ee]},a[C.ClearTypeahead]={actions:k},a[C.OptionMouseMove]=[{target:R.Dragging,actions:[B],cond:Q},{target:R.Dragging}],a))},r[R.Dragging]={on:K({},te,(o={},o[C.ClearNavSelection]={actions:[A]},o[C.KeyDownEnter]={target:R.Idle,actions:[L,k,H,z],cond:J},o[C.KeyDownSpace]={target:R.Idle,actions:[L,k,H,z],cond:J},o[C.ButtonMouseDown]={target:R.Idle,actions:[H]},o[C.KeyDownEscape]={target:R.Idle,actions:[H]},o[C.OptionMouseDown]={target:R.Dragging},o[C.OutsideMouseDown]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W},{target:R.Interacting,actions:k}],o[C.OutsideMouseUp]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W,actions:Y},{target:R.Interacting,actions:[k,Y]}],o[C.Blur]=[{target:R.Idle,cond:q,actions:k},{target:R.Navigating,cond:j},{target:R.Interacting,actions:k}],o[C.ButtonMouseUp]={target:R.Navigating,actions:[V,Y]},o[C.OptionTouchStart]={target:R.Navigating,actions:[B,k],cond:Q},o[C.OptionClick]={target:R.Idle,actions:[L,k,H,z],cond:J},o[C.OptionPress]={target:R.Idle,actions:[L,k,H,z],cond:J},o[C.OptionMouseEnter]={target:R.Dragging,actions:[B,k],cond:Q},o[C.KeyDownNavigate]={target:R.Navigating,actions:[B,k,Y]},o[C.KeyDownSearch]={target:R.Navigating,actions:Z},o[C.UpdateAfterTypeahead]={actions:[ee]},o[C.ClearTypeahead]={actions:k},o[C.OptionMouseMove]=[{target:R.Navigating,actions:[B],cond:Q},{target:R.Navigating}],o[C.OptionMouseUp]={target:R.Idle,actions:[L,k,H,z],cond:J},o))},r[R.Navigating]={on:K({},te,(i={},i[C.ClearNavSelection]={actions:[A,Y]},i[C.KeyDownEnter]={target:R.Idle,actions:[L,k,H,z],cond:J},i[C.KeyDownSpace]={target:R.Idle,actions:[L,k,H,z],cond:J},i[C.ButtonMouseDown]={target:R.Idle,actions:[H]},i[C.KeyDownEscape]={target:R.Idle,actions:[H]},i[C.OptionMouseDown]={target:R.Dragging},i[C.OutsideMouseDown]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W},{target:R.Interacting,actions:k}],i[C.OutsideMouseUp]=[{target:R.Idle,cond:G,actions:k},{target:R.Navigating,cond:W},{target:R.Interacting,actions:k}],i[C.Blur]=[{target:R.Idle,cond:q,actions:k},{target:R.Navigating,cond:j},{target:R.Interacting,actions:k}],i[C.ButtonMouseUp]={target:R.Navigating,actions:[V,Y]},i[C.OptionTouchStart]={target:R.Navigating,actions:[B,k],cond:Q},i[C.OptionClick]={target:R.Idle,actions:[L,k,H,z],cond:J},i[C.OptionPress]={target:R.Idle,actions:[L,k,H,z],cond:J},i[C.OptionMouseEnter]={target:R.Navigating,actions:[B,k],cond:Q},i[C.KeyDownNavigate]={target:R.Navigating,actions:[B,k,Y]},i[C.KeyDownSearch]={target:R.Navigating,actions:Z},i[C.UpdateAfterTypeahead]={actions:[ee]},i[C.ClearTypeahead]={actions:k},i[C.OptionMouseMove]=[{target:R.Navigating,actions:[B],cond:Q},{target:R.Navigating}],i))},r)}}({value:(x.current?w:d)||null})),ge=T(ve,{button:ne,hiddenInput:oe,highlightedOption:ie,input:re,list:ue,popover:ce,selectedOption:le},false),fe=ge[0],pe=ge[1];var ye=(0,o.M)(N.id),be=N.id||(0,g.q)("listbox-input",ye),Ee=(0,p.e)(re,t),Oe=(0,a.useMemo)((function(){var e=S.find((function(e){return e.value===fe.context.value}));return e?e.label:null}),[S,fe.context.value]),De=function(e){return[R.Navigating,R.Open,R.Dragging,R.Interacting].includes(e)}(fe.value),he={ariaLabel:l,ariaLabelledBy:u,buttonRef:ne,disabled:b,highlightedOptionRef:ie,isExpanded:De,listboxId:be,listboxValueLabel:Oe,listRef:ue,onValueChange:function(e){e!==fe.context.value&&(null==D||D(e))},popoverRef:ce,selectedOptionRef:le,send:pe,state:fe.value,stateData:fe.context},we=(0,a.useRef)(!1);if(!x.current&&null==d&&!we.current&&S.length){we.current=!0;var Me=S.find((function(e){return!e.disabled}));Me&&Me.value&&pe({type:C.ValueChange,value:Me.value})}return(0,f.cO)(w,"value",I),function(e,t,n){(0,a.useRef)(null!=e).current&&e!==t&&n()}(w,fe.context.value,(function(){pe({type:C.ValueChange,value:w})})),(0,c.L)((function(){pe({type:C.GetDerivedData,data:{options:S}})}),[S,pe]),(0,a.useEffect)((function(){function e(e){var t=e.target,n=e.relatedTarget;Ie(ce.current,t)||pe({type:C.OutsideMouseDown,relatedTarget:n||t})}return De&&window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}),[pe,De]),(0,a.useEffect)((function(){function e(e){var t=e.target,n=e.relatedTarget;Ie(ce.current,t)||pe({type:C.OutsideMouseUp,relatedTarget:n||t})}return De&&window.addEventListener("mouseup",e),function(){window.removeEventListener("mouseup",e)}}),[pe,De]),(0,f.kG)("listbox"),(0,a.createElement)(i,K({},N,{ref:Ee,"data-reach-listbox-input":"","data-state":De?"expanded":"closed","data-value":fe.context.value,id:be}),(0,a.createElement)(de.Provider,{value:he},(0,a.createElement)(r.w_,{context:se,items:S,set:U},(0,v.mf)(s)?s({id:be,isExpanded:De,value:fe.context.value,selectedOptionRef:le,highlightedOptionRef:ie,valueLabel:Oe,expanded:De}):s,(E||O||h)&&(0,a.createElement)("input",{ref:oe,"data-reach-listbox-hidden-input":"",disabled:b,form:E,name:O,readOnly:!0,required:h,tabIndex:-1,type:"hidden",value:fe.context.value||""}))))}));var ge=(0,a.forwardRef)((function(e,t){var n=e.arrow,o=void 0===n?"\u25bc":n,i=e.button,r=e.children,u=e.portal,c=void 0===u||u,l=P(e,oe);return(0,a.createElement)(ve,K({},l,{__componentName:"Listbox",ref:t}),(function(e){var t=e.value,n=e.valueLabel;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(pe,{arrow:o,children:i?(0,v.mf)(i)?i({value:t,label:n}):i:void 0}),(0,a.createElement)(Oe,{portal:c},(0,a.createElement)(De,null,r)))}))}));var fe=(0,a.forwardRef)((function(e,t){var n=e["aria-label"],o=e.arrow,i=void 0!==o&&o,r=e.as,c=void 0===r?"span":r,l=e.children,s=e.onKeyDown,d=e.onMouseDown,f=e.onMouseUp,y=P(e,ie),E=(0,a.useContext)(de),O=E.buttonRef,D=E.send,h=E.ariaLabelledBy,w=E.disabled,M=E.isExpanded,I=E.listboxId,N=E.stateData,x=E.listboxValueLabel,m=N.value,T=(0,p.e)(O,t),_=we();var S=(0,g.q)("button",I),R=(0,a.useMemo)((function(){return l?(0,v.mf)(l)?l({isExpanded:M,label:x,value:m,expanded:M}):l:x}),[l,x,M,m]);return(0,a.createElement)(c,K({"aria-disabled":w||void 0,"aria-expanded":M||void 0,"aria-haspopup":"listbox","aria-labelledby":n?void 0:[h,S].filter(Boolean).join(" "),"aria-label":n,role:"button",tabIndex:w?-1:0},y,{ref:T,"data-reach-listbox-button":"",id:S,onKeyDown:(0,b.M)(s,_),onMouseDown:(0,b.M)(d,(function(e){(0,u.d)(e.nativeEvent)||(e.preventDefault(),e.stopPropagation(),D({type:C.ButtonMouseDown,disabled:w}))})),onMouseUp:(0,b.M)(f,(function(e){(0,u.d)(e.nativeEvent)||(e.preventDefault(),e.stopPropagation(),D({type:C.ButtonMouseUp}))}))}),R,i&&(0,a.createElement)(be,null,(0,v.jn)(i)?null:i))}));var pe=(0,a.memo)(fe),ye=(0,a.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"span":n,i=e.children,r=P(e,re),u=(0,a.useContext)(de).isExpanded;return(0,a.createElement)(o,K({"aria-hidden":!0},r,{ref:t,"data-reach-listbox-arrow":"","data-expanded":u?"":void 0}),(0,v.mf)(i)?i({isExpanded:u,expanded:u}):i||"\u25bc")}));var be=(0,a.memo)(ye),Ee=(0,a.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"div":n,r=e.position,u=void 0===r?i.g0:r,c=e.onBlur,l=e.onKeyDown,s=e.onMouseUp,d=e.portal,v=void 0===d||d,g=e.unstable_observableRefs,f=P(e,ue),y=(0,a.useContext)(de),E=y.isExpanded,O=y.buttonRef,D=y.popoverRef,h=y.send,w=(0,p.e)(D,t),M=we();var I=K({hidden:!E,tabIndex:-1},f,{ref:w,"data-reach-listbox-popover":"",onMouseUp:(0,b.M)(s,(function(){h({type:C.ListMouseUp})})),onBlur:(0,b.M)(c,(function(e){var t=e.nativeEvent;requestAnimationFrame((function(){h({type:C.Blur,relatedTarget:t.relatedTarget||t.target})}))})),onKeyDown:(0,b.M)(l,M)});return v?(0,a.createElement)(i.J2,K({},I,{as:o,targetRef:O,position:u,unstable_observableRefs:g,unstable_skipInitialPortalRender:!0})):(0,a.createElement)(o,I)}));var Oe=(0,a.memo)(Ee),De=(0,a.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"ul":n,i=P(e,ce),r=(0,a.useContext)(de),u=r.listRef,c=r.ariaLabel,l=r.ariaLabelledBy,s=r.isExpanded,d=r.listboxId,v=r.stateData,f=v.value,y=v.navigationValue,b=(0,p.e)(t,u);return(0,a.createElement)(o,K({"aria-activedescendant":Me(s?y:f),"aria-labelledby":c?void 0:l,"aria-label":c,role:"listbox",tabIndex:-1},i,{ref:b,"data-reach-listbox-list":"",id:(0,g.q)("listbox",d)}))}));var he=(0,a.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"li":n,i=e.children,c=e.disabled,l=e.index,s=e.label,d=e.onClick,v=e.onMouseDown,g=e.onMouseEnter,f=e.onMouseLeave,E=e.onMouseMove,O=e.onMouseUp,D=e.onTouchStart,h=e.value,w=P(e,le);var M=(0,a.useContext)(de),I=M.highlightedOptionRef,N=M.selectedOptionRef,x=M.send,m=M.isExpanded,T=M.onValueChange,_=M.state,S=M.stateData,U=S.value,A=S.navigationValue,k=(0,a.useState)(s),L=k[0],B=k[1],V=s||L||"",q=(0,a.useRef)(null),G=(0,y.B)(q,null),W=G[0],j=G[1],Y=(0,a.useMemo)((function(){return{element:W,value:h,label:V,disabled:!!c}}),[c,W,V,h]);(0,r.Yf)(Y,se,l);var H=(0,a.useCallback)((function(e){!s&&e&&B((function(t){return e.textContent&&t!==e.textContent?e.textContent:t||""}))}),[s]),F=!!A&&A===h,Q=U===h,J=(0,p.e)(H,t,j,Q?N:null,F?I:null);return(0,a.createElement)(o,K({"aria-selected":(m?F:Q)||void 0,"aria-disabled":c||void 0,role:"option"},w,{ref:J,id:Me(h),"data-reach-listbox-option":"","data-current-nav":F?"":void 0,"data-current-selected":Q?"":void 0,"data-label":V,"data-value":h,onClick:(0,b.M)(d,(function(e){(0,u.d)(e.nativeEvent)||x({type:C.OptionClick,value:h,callback:T,disabled:!!c})})),onMouseDown:(0,b.M)(v,(function(e){(0,u.d)(e.nativeEvent)||(e.preventDefault(),x({type:C.OptionMouseDown}))})),onMouseEnter:(0,b.M)(g,(function(){x({type:C.OptionMouseEnter,value:h,disabled:!!c})})),onMouseLeave:(0,b.M)(f,(function(){x({type:C.ClearNavSelection})})),onMouseMove:(0,b.M)(E,(function(){_!==R.Open&&A===h||x({type:C.OptionMouseMove,value:h,disabled:!!c})})),onMouseUp:(0,b.M)(O,(function(e){(0,u.d)(e.nativeEvent)||x({type:C.OptionMouseUp,value:h,callback:T,disabled:!!c})})),onTouchStart:(0,b.M)(D,(function(){x({type:C.OptionTouchStart,value:h,disabled:!!c})}))}),i)}));function we(){var e,t=(0,a.useContext)(de),n=t.send,o=t.disabled,i=t.onValueChange,u=t.stateData,c=u.navigationValue,s=u.typeaheadQuery,d=(0,r.Ak)(se),g=(e=i,l(a.useEffect,e));(0,a.useEffect)((function(){s&&n({type:C.UpdateAfterTypeahead,query:s,callback:g});var e=window.setTimeout((function(){null!=s&&n({type:C.ClearTypeahead})}),1e3);return function(){window.clearTimeout(e)}}),[g,n,s]);var f=d.findIndex((function(e){return e.value===c}));return(0,b.M)((function(e){var t=e.key,a=(0,v.HD)(t)&&1===t.length,r=d.find((function(e){return e.value===c}));switch(t){case"Enter":return void n({type:C.KeyDownEnter,value:c,callback:i,disabled:!!(null!=r&&r.disabled||o)});case" ":return e.preventDefault(),void n({type:C.KeyDownSpace,value:c,callback:i,disabled:!!(null!=r&&r.disabled||o)});case"Escape":return void n({type:C.KeyDownEscape});case"Tab":var u=e.shiftKey?C.KeyDownShiftTab:C.KeyDownTab;return void n({type:u});default:return void(a&&n({type:C.KeyDownSearch,query:t,disabled:o}))}}),(0,r.Dv)(se,{currentIndex:f,orientation:"vertical",key:"index",rotate:!0,filter:function(e){return!e.disabled},callback:function(e){n({type:C.KeyDownNavigate,value:d[e].value,disabled:o})}}))}function Me(e){var t=(0,a.useContext)(de).listboxId;return e?(0,g.q)("option-"+e,t):void 0}function Ie(e,t){return!(!e||!e.contains(t))}}}]);